name: Query Classification
description: Extract virus species using LLM agent (NO hardcoded patterns)
class: QueryClassificationStep

# Step configuration
config:
  name: query_classification
  description: Extract virus species using LLM agent
  debug_mode: false
  enable_logging: true
  log_data_transfers: true

# Input data unit configuration
input_configs:
  user_query:
    class: nanobrain.core.data_unit.DataUnitMemory
    name: user_query_input
    description: User query input for virus species extraction
    persistent: false

# Output data unit configuration  
output_config:
  class: nanobrain.core.data_unit.DataUnitMemory
  name: extraction_result
  description: Virus species extraction result with routing decision
  persistent: false

# Trigger configuration - activated when user query received
trigger_config:
  trigger_type: data_updated
  name: query_input_trigger
  description: Trigger processing when user query received
  data_unit: user_query

# PURE CONFIG: Agent configuration via external file reference
extraction_agent:
  config_file: "nanobrain/library/agents/specialized/config/virus_extraction_agent.yml"

# STEP-LEVEL TRIGGER: Execute when input data received  
triggers:
  - trigger_id: input_data_received
    class: nanobrain.core.trigger.DataUnitChangeTrigger
    data_unit: user_query
    event_type: "set"
    description: "Execute step when user query is received"
